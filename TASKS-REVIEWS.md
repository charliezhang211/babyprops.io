# TASKS-REVIEWS.md - Reviews è¯„è®ºæ¨¡å—å¼€å‘ä»»åŠ¡æ¸…å•

> **é¡¹ç›®:** BabyProps.io - Reviews æ¨¡å—
> **é¢„ä¼° Token:** ~7,500
> **ä¼˜å…ˆçº§:** P1 (ä¿¡ä»»èƒŒä¹¦ + è½¬åŒ–æå‡)

---

## æ¨¡å—æ¦‚è¿°

ä¸º Dvotinst ç«™ç‚¹æ·»åŠ äº§å“è¯„è®ºç³»ç»Ÿï¼Œç”¨äºï¼š
- å±•ç¤ºçœŸå®å®¢æˆ·è¯„ä»· (Social Proof)
- æå‡äº§å“é¡µè½¬åŒ–ç‡
- æ”¶é›†ç”¨æˆ·åé¦ˆ
- SEO è¯„åˆ†ç»“æ„åŒ–æ•°æ®

**æ•°æ®å­˜å‚¨:** Supabase `reviews` è¡¨ (åŸºåº§å·²åˆ›å»º)

---

## Phase R: Reviews æ¨¡å— (P1)

> **ç›®æ ‡:** å®Œæ•´è¯„è®ºç³»ç»Ÿ (å±•ç¤º + æäº¤ + ç®¡ç†)
> **é¢„ä¼° Token:** ~7,500

### Task-R.1: Reviews æ•°æ®ä¸ API ç¡®è®¤
- **è½®æ¬¡:** 1-2
- **Token:** ~600
- **ä¾èµ–:** Task-0.2 (Supabase é…ç½®)
- **è¯´æ˜:**
  1. ç¡®è®¤ `reviews` è¡¨ç»“æ„
  2. ç¡®è®¤ API ç«¯ç‚¹å¯ç”¨
  3. äº†è§£å®¡æ ¸æµç¨‹

**Reviews è¡¨ç»“æ„ (åŸºåº§å·²æœ‰):**
```sql
reviews:
  - id: uuid
  - product_slug: text        -- å…³è”äº§å“
  - user_id: uuid (nullable)  -- ç™»å½•ç”¨æˆ·
  - guest_name: text          -- æ¸¸å®¢å§“å
  - guest_email: text         -- æ¸¸å®¢é‚®ç®±
  - rating: int (1-5)         -- è¯„åˆ†
  - title: text               -- è¯„è®ºæ ‡é¢˜
  - content: text             -- è¯„è®ºå†…å®¹
  - images: text[]            -- æ™’å›¾ URLs (å¯é€‰)
  - status: enum              -- pending/approved/rejected
  - admin_reply: text         -- å•†å®¶å›å¤
  - created_at: timestamp
  - updated_at: timestamp
```

**API ç«¯ç‚¹ (åŸºåº§å·²æœ‰):**
```
POST /api/reviews           -- æäº¤è¯„è®º
GET  /api/reviews/[slug]    -- è·å–äº§å“è¯„è®º
```

- [x] å®Œæˆ (2026-02-05: æ•°æ®è¡¨/API/å®¡æ ¸æµç¨‹å·²å…¨éƒ¨ç¡®è®¤å°±ç»ª)

---

### Task-R.2: ReviewsList ç»„ä»¶
- **è½®æ¬¡:** 2-3
- **Token:** ~1,500
- **ä¾èµ–:** Task-R.1
- **è¯´æ˜:**
  1. åˆ›å»º `src/components/reviews/ReviewsList.tsx`
  2. è¯„è®ºåˆ—è¡¨å±•ç¤º
  3. è¯„åˆ†ç»Ÿè®¡æ‘˜è¦
  4. æ’åºé€‰é¡¹ (æœ€æ–°/æœ€é«˜åˆ†/æœ€ä½åˆ†)
  5. åˆ†é¡µåŠ è½½ / Load More
  6. ç©ºçŠ¶æ€æç¤º

**ç»„ä»¶å¸ƒå±€:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Customer Reviews                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Overall Rating     â”‚  Rating Breakdown     â”‚    â”‚
â”‚  â”‚  â˜…â˜…â˜…â˜…â˜… 4.8         â”‚  5â˜… â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 45  â”‚    â”‚
â”‚  â”‚  Based on 52 reviewsâ”‚  4â˜… â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     12    â”‚    â”‚
â”‚  â”‚                     â”‚  3â˜… â–ˆâ–ˆ         3     â”‚    â”‚
â”‚  â”‚  [Write a Review]   â”‚  2â˜…            1     â”‚    â”‚
â”‚  â”‚                     â”‚  1â˜… â–ˆ          1     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Sort by: [Most Recent â–¼]                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â˜…â˜…â˜…â˜…â˜…  "Amazing quality!"                    â”‚  â”‚
â”‚  â”‚ Sarah M. | Jan 15, 2026 | Verified Purchase  â”‚  â”‚
â”‚  â”‚ The wooden moon bed is absolutely beautiful...â”‚  â”‚
â”‚  â”‚ [ğŸ“· Photo] [ğŸ“· Photo]                         â”‚  â”‚
â”‚  â”‚                                               â”‚  â”‚
â”‚  â”‚ ğŸ’¬ Seller Response:                          â”‚  â”‚
â”‚  â”‚ Thank you so much Sarah! We're thrilled...   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â˜…â˜…â˜…â˜…â˜†  "Good but shipping took long"         â”‚  â”‚
â”‚  â”‚ Mike T. | Jan 10, 2026                        â”‚  â”‚
â”‚  â”‚ Product quality is great, but delivery...    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â”‚  [Load More Reviews]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- [x] å®Œæˆ (2026-02-05: ReviewsList.tsx + StarRating.tsx å·²åˆ›å»º, API å·²æ”¯æŒ sort å‚æ•°)

---

### Task-R.3: ReviewCard ç»„ä»¶
- **è½®æ¬¡:** 2
- **Token:** ~1,000
- **ä¾èµ–:** Task-R.2
- **è¯´æ˜:**
  1. åˆ›å»º `src/components/reviews/ReviewCard.astro`
  2. æ˜Ÿçº§è¯„åˆ†æ˜¾ç¤º
  3. ç”¨æˆ·å + æ—¥æœŸ + Verified æ ‡ç­¾
  4. è¯„è®ºæ ‡é¢˜ + å†…å®¹
  5. æ™’å›¾å±•ç¤º (ç‚¹å‡»æ”¾å¤§)
  6. å•†å®¶å›å¤åŒºåŸŸ

**Verified Purchase é€»è¾‘:**
- å¦‚æœ `user_id` å…³è”åˆ° `orders` ä¸­è´­ä¹°è¿‡è¯¥äº§å“ â†’ æ˜¾ç¤º "Verified Purchase"

- [x] å®Œæˆ (2026-02-05: ReviewCard.tsx å·²ä» ReviewsList æå–ä¸ºç‹¬ç«‹ç»„ä»¶, å«æ˜Ÿçº§/ç”¨æˆ·ä¿¡æ¯/Verifiedæ ‡ç­¾/æ™’å›¾Lightbox/å•†å®¶å›å¤)

---

### Task-R.4: StarRating ç»„ä»¶
- **è½®æ¬¡:** 1-2
- **Token:** ~600
- **ä¾èµ–:** æ— 
- **è¯´æ˜:**
  1. åˆ›å»º `src/components/reviews/StarRating.tsx`
  2. åªè¯»æ¨¡å¼ (å±•ç¤º)
  3. äº¤äº’æ¨¡å¼ (é€‰æ‹©è¯„åˆ†)
  4. æ”¯æŒåŠæ˜Ÿæ˜¾ç¤º (4.5)
  5. æ‚¬åœé¢„è§ˆæ•ˆæœ

**Props:**
```ts
interface StarRatingProps {
  rating: number;           // 0-5
  max?: number;             // é»˜è®¤ 5
  size?: 'sm' | 'md' | 'lg';
  readonly?: boolean;       // åªè¯»/äº¤äº’
  onChange?: (rating: number) => void;
  showValue?: boolean;      // æ˜¾ç¤ºæ•°å€¼ "4.8"
}
```

- [x] å®Œæˆ (2026-02-05: StarRating.tsx å·²å…·å¤‡åªè¯»/äº¤äº’æ¨¡å¼ã€åŠæ˜Ÿæ¸å˜å¡«å……ã€æ‚¬åœé¢„è§ˆã€showValue æ•°å€¼æ˜¾ç¤ºï¼ŒProps å®Œå…¨ç¬¦åˆè§„æ ¼)

---

### Task-R.5: ReviewForm ç»„ä»¶
- **è½®æ¬¡:** 2-3
- **Token:** ~1,500
- **ä¾èµ–:** Task-R.4
- **è¯´æ˜:**
  1. åˆ›å»º `src/components/reviews/ReviewForm.tsx`
  2. æ˜Ÿçº§è¯„åˆ†é€‰æ‹©
  3. è¯„è®ºæ ‡é¢˜ + å†…å®¹è¾“å…¥
  4. å›¾ç‰‡ä¸Šä¼  (å¯é€‰, æœ€å¤š 3 å¼ )
  5. æ¸¸å®¢: å§“å + é‚®ç®±
  6. ç™»å½•ç”¨æˆ·: è‡ªåŠ¨å¡«å……
  7. æäº¤æˆåŠŸæç¤º (å¾…å®¡æ ¸)

**è¡¨å•å¸ƒå±€:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Write a Review                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Your Rating *                                      â”‚
â”‚  â˜† â˜† â˜† â˜† â˜†  (Click to rate)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Review Title *                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ e.g., "Amazing quality and fast shipping"    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Your Review *                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                               â”‚  â”‚
â”‚  â”‚                                               â”‚  â”‚
â”‚  â”‚                                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  Min 20 characters                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Add Photos (Optional)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  +  â”‚ â”‚     â”‚ â”‚     â”‚  Max 3 images            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  (If Guest)                                         â”‚
â”‚  Your Name *        Your Email *                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              â”‚   â”‚                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  Email won't be published                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Submit Review]                                    â”‚
â”‚                                                     â”‚
â”‚  â„¹ï¸ Your review will be published after approval.  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æäº¤æµç¨‹:**
1. éªŒè¯è¡¨å•
2. POST /api/reviews
3. æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯ "Thank you! Your review is pending approval."
4. æ¸…ç©ºè¡¨å•

- [x] å®Œæˆ (2026-02-05: ReviewForm.tsx å·²åˆ›å»º, å«æ˜Ÿçº§é€‰æ‹©/æ ‡é¢˜å†…å®¹è¾“å…¥/å›¾ç‰‡ä¸Šä¼ (base64, æœ€å¤š3å¼ )/æ¸¸å®¢å§“åé‚®ç®±/ç™»å½•ç”¨æˆ·è‡ªåŠ¨å¡«å……/è¡¨å•éªŒè¯/æäº¤æˆåŠŸæç¤º/åŠ è½½çŠ¶æ€)

---

### Task-R.6: PDP é¡µé¢æ•´åˆ Reviews
- **è½®æ¬¡:** 2
- **Token:** ~1,000
- **ä¾èµ–:** Task-R.2, Task-R.5
- **è¯´æ˜:**
  1. åœ¨ ProductTabs ä¸­æ·»åŠ  Reviews Tab
  2. æˆ–åœ¨ PDP é¡µé¢åº•éƒ¨æ·»åŠ  Reviews Section
  3. Schema.org AggregateRating ç»“æ„åŒ–æ•°æ®
  4. äº§å“å¡ç‰‡æ˜¾ç¤ºè¯„åˆ†



**æ–¹æ¡ˆ: ç‹¬ç«‹ Section (æ¨è)**
```
PDP é¡µé¢ç»“æ„:
â”œâ”€â”€ Gallery + Info + Add to Cart
â”œâ”€â”€ ProductTabs (Description/Specs/Care/Shipping)
â”œâ”€â”€ Reviews Section (ç‹¬ç«‹)  â† æ–°å¢
â””â”€â”€ Related Products
```

**Schema.org ç»“æ„åŒ–æ•°æ®:**
```json
{
  "@type": "Product",
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "reviewCount": "52"
  },
  "review": [
    {
      "@type": "Review",
      "author": "Sarah M.",
      "reviewRating": {
        "@type": "Rating",
        "ratingValue": "5"
      },
      "reviewBody": "Amazing quality..."
    }
  ]
}
```

- [x] å®Œæˆ (2026-02-05: ProductReviewsSection.tsx å·²åˆ›å»ºå¹¶æ•´åˆåˆ° [slug].astro PDP é¡µé¢, Schema.org AggregateRating é€šè¿‡å®¢æˆ·ç«¯åŠ¨æ€æ³¨å…¥ JSON-LD, ProductCardRating.tsx å·²åˆ›å»ºå¹¶æ·»åŠ åˆ° ProductCard.astro æ˜¾ç¤ºè¯„åˆ†)

---

### Task-R.7: Reviews æ ·å¼ä¼˜åŒ–ä¸æµ‹è¯•
- **è½®æ¬¡:** 1-2
- **Token:** ~800
- **ä¾èµ–:** Task-R.6
- **è¯´æ˜:**
  1. è«å…°è¿ªè‰²ç³»æ ·å¼ç»Ÿä¸€
  2. å“åº”å¼å¸ƒå±€æµ‹è¯•
  3. ç©ºçŠ¶æ€ / åŠ è½½çŠ¶æ€
  4. é”™è¯¯å¤„ç†
  5. åˆ›å»ºæµ‹è¯•è¯„è®ºæ•°æ®

**æµ‹è¯•åœºæ™¯:**
- æ— è¯„è®ºçŠ¶æ€
- æœ‰è¯„è®º + æœ‰æ™’å›¾
- æœ‰å•†å®¶å›å¤
- è¯„åˆ†ç»Ÿè®¡è®¡ç®—
- è¡¨å•éªŒè¯
- æäº¤æˆåŠŸ/å¤±è´¥

- [x] å®Œæˆ (2026-02-05: è«å…°è¿ªè‰²ç³»æ ·å¼ç»Ÿä¸€(ReviewCard title/borderä¿®å¤), å“åº”å¼å¸ƒå±€éªŒè¯(sort bar flex-wrap), EmptyStateåŒºåˆ†ç©ºè¯„è®ºvsç­›é€‰æ— ç»“æœ, é”™è¯¯å¤„ç†å·²è¦†ç›–(ç½‘ç»œ/API/è¡¨å•éªŒè¯), seed-reviews.jsæµ‹è¯•æ•°æ®è¦†ç›–å…¨éƒ¨åœºæ™¯)

---

## æ–‡ä»¶æ¸…å•

å®Œæˆåå°†åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š

```
src/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ reviews/
â”‚       â”œâ”€â”€ ReviewsList.tsx       # è¯„è®ºåˆ—è¡¨ä¸»ç»„ä»¶
â”‚       â”œâ”€â”€ ReviewCard.astro      # å•æ¡è¯„è®ºå¡ç‰‡
â”‚       â”œâ”€â”€ StarRating.tsx        # æ˜Ÿçº§è¯„åˆ†ç»„ä»¶
â”‚       â”œâ”€â”€ ReviewForm.tsx        # è¯„è®ºæäº¤è¡¨å•
â”‚       â”œâ”€â”€ RatingSummary.astro   # è¯„åˆ†ç»Ÿè®¡æ‘˜è¦
â”‚       â”œâ”€â”€ ReviewImages.tsx      # æ™’å›¾å±•ç¤º + Lightbox
â”‚       â””â”€â”€ README-REVIEWS.md     # ç»„ä»¶æ–‡æ¡£
â””â”€â”€ pages/
    â””â”€â”€ products/
        â””â”€â”€ [slug].astro          # æ›´æ–°: æ•´åˆ Reviews
```

---

## Token é¢„ç®—

| Task | æè¿° | é¢„ä¼° Token |
|------|------|-----------|
| R.1 | æ•°æ®ä¸ API ç¡®è®¤ | ~600 |
| R.2 | ReviewsList ç»„ä»¶ | ~1,500 |
| R.3 | ReviewCard ç»„ä»¶ | ~1,000 |
| R.4 | StarRating ç»„ä»¶ | ~600 |
| R.5 | ReviewForm ç»„ä»¶ | ~1,500 |
| R.6 | PDP é¡µé¢æ•´åˆ | ~1,000 |
| R.7 | æ ·å¼ä¼˜åŒ–ä¸æµ‹è¯• | ~800 |
| **æ€»è®¡** | | **~7,000** |

---

## æ‰§è¡Œé¡ºåº

```
1. Task-R.1 (ç¡®è®¤æ•°æ®ç»“æ„)
   â†“
2. Task-R.4 (StarRating ç»„ä»¶) -- åŸºç¡€ç»„ä»¶
   â†“
3. Task-R.3 (ReviewCard) + Task-R.5 (ReviewForm)
   â†“  å¯å¹¶è¡Œ
4. Task-R.2 (ReviewsList) -- æ•´åˆ Card
   â†“
5. Task-R.6 (PDP æ•´åˆ)
   â†“
6. Task-R.7 (æµ‹è¯•ä¼˜åŒ–)
```

---

## ç®¡ç†ç«¯è¯´æ˜

åŸºåº§å·²åŒ…å«ç®¡ç†ç«¯è¯„è®ºå®¡æ ¸åŠŸèƒ½ï¼š

**API ç«¯ç‚¹:**
```
GET   /api/admin/reviews        -- è¯„è®ºåˆ—è¡¨ (å¾…å®¡æ ¸/å·²å®¡æ ¸)
PATCH /api/admin/reviews/[id]   -- å®¡æ ¸æ“ä½œ (approve/reject/reply)
```

**ç®¡ç†ç»„ä»¶:**
```astro
---
import ReviewsManager from '@/components/admin/ReviewsManager';
---
<ReviewsManager client:load />
```

**å®¡æ ¸æµç¨‹:**
1. ç”¨æˆ·æäº¤è¯„è®º â†’ status: 'pending'
2. ç®¡ç†å‘˜æŸ¥çœ‹ â†’ approve/reject
3. approved çš„è¯„è®ºæ˜¾ç¤ºåœ¨å‰å°
4. å¯æ·»åŠ å•†å®¶å›å¤ (admin_reply)

---

## æ³¨æ„äº‹é¡¹

1. **å›¾ç‰‡ä¸Šä¼ :** éœ€è¦é…ç½® Supabase Storage æˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹å›¾åºŠ
2. **é˜²åƒåœ¾:** å¯è€ƒè™‘æ·»åŠ  reCAPTCHA (å¯é€‰)
3. **é‚®ç®±éšç§:** æ¸¸å®¢é‚®ç®±ä¸å…¬å¼€æ˜¾ç¤º
4. **ç¼“å­˜:** è¯„è®ºæ•°æ®å¯è€ƒè™‘ ISR ç¼“å­˜ (å¯é€‰ä¼˜åŒ–)

---

**Last Updated:** 2026-02-04
**Module Owner:** ULX Studio
